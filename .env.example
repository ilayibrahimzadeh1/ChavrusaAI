# ChavrusaAI Environment Configuration Template
# Copy this file to .env and update values as needed

# Server Configuration
PORT=8081
NODE_ENV=development

# OpenAI Configuration (REQUIRED)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4
MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# Sefaria API Configuration
SEFARIA_BASE_URL=https://www.sefaria.org/api
SEFARIA_TIMEOUT=5000
SEFARIA_RETRY_ATTEMPTS=3

# Session Configuration
SESSION_MAX_AGE=86400000
SESSION_CLEANUP_INTERVAL=3600000
MAX_SESSIONS=1000

# Security Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
CORS_ORIGIN=http://localhost:3003
CLIENT_URL=http://localhost:3003

# Database Configuration (Legacy SQLite - will be replaced by Supabase)
DATABASE_DIR=./data
DATABASE_NAME=chavrusa.db

# Translation Configuration (Google Translate API)
GOOGLE_TRANSLATE_API_KEY=your-google-translate-api-key-here

# Supabase Configuration (REQUIRED for production chat persistence)
# Get these from your Supabase project dashboard at https://supabase.com
SUPABASE_URL=your-supabase-project-url-here
SUPABASE_ANON_KEY=your-supabase-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=combined

# Cache Configuration
CACHE_TTL=3600000
CACHE_MAX_SIZE=100

# Production Security Notes:
# - Set CORS_ORIGIN to your actual frontend URL
# - Use a strong, unique OPENAI_API_KEY
# - Set NODE_ENV=production for production deployments
# - Configure Supabase for authentication and persistent data storage
# - Keep SUPABASE_SERVICE_ROLE_KEY secure - it bypasses Row Level Security
# - Use environment-specific Supabase projects for development/staging/production
# - Never commit the actual .env file to version control

# Railway Deployment Setup:
# Set these environment variables in Railway dashboard:
# - OPENAI_API_KEY (required)
# - SUPABASE_URL (required)
# - SUPABASE_ANON_KEY (required)
# - SUPABASE_SERVICE_ROLE_KEY (required)
# - NODE_ENV=production
# - CLIENT_URL=https://your-app.railway.app
# - CORS_ORIGIN=https://your-app.railway.app

# Deployment Requirements:
# ✅ OpenAI API key for AI rabbi responses
# ✅ Supabase PostgreSQL for chat persistence
# ✅ Environment variables configured
# ✅ Production CORS settings
# ✅ Node.js 16+ runtime